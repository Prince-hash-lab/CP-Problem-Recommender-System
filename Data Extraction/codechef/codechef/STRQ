(iproblems
Problem
p0
(dp1
S'time_limit'
p2
(lp3
VTime Limit: 1 sec
p4
asS'source_limit'
p5
(lp6
VSource Limit: 50000 Bytes
p7
asS'description'
p8
V All submissions for this problem are available.\u000aRead problems statements in Mandarin Chinese and Russian.\u000aChef likes strings a lot but moreover he likes good strings. Chef calls a string str a good string if str starts and ends at different characters. For eg : strings such as abab , baccba , abc are all good strings whereas strings like aba, baab , baacaab are not good at all .\u000aToday, Chef has a special string P consisting of lower case letters "c" , "h" , "e" and "f" only. Chef wants to make some queries about his string P.\u000aEach of chef's query has the following form a b L R. For a given query, Chef wants to count the number of good strings which starts at letter a and ends at letter b such that starting index Si and ending index Ei of a chosen substring satisfies L <= Si < Ei <= R.\u000aNOTE\u000aTwo substrings P1 and P2 are considered to be different if either S1 != S2 or E1 != E2 where S1,E1 and S2,E2 are the starting and ending index of string P1 and string P2 respectively.\u000aChef is not able to accomplish this task efficiently. Can you help him ?\u000aInput\u000aFirst line of the input contains a string P denoting the chef's special string. Next line of the input contains a single integer Q denoting the number of chef's queries. Next Q lines of the input contains four space separated parameters where the first two parameters are characters denoting a and b respectively and rest two are integers denoting L and R respectively.\u000aOutput\u000aFor each chef's query, print the required answer.\u000aConstraints\u000a1 <= |P| <= 106\u000a1 <= Q <= 106\u000a1 <= L <= R <= |P|\u000aP,a,b belongs to the set of lower case letters [c,h,e,f] and a != b.\u000aAll test files are strictly according to constraints.\u000aSubtasks\u000aSubtask #1: 1<=|P|,Q<=104 : 27 pts\u000aSubtask #2: 1<=|P|,Q<=105 : 25 pts\u000aSubtask #3: 1<=|P|,Q<=106 : 48 pts\u000aExample\u000aInput\u000achecfcheff\u000a5\u000ac h 1 10\u000ac f 1 10\u000ae c 1 10\u000ac f 1 5\u000ac f 6 10\u000a\u000aOutput\u000a4\u000a8\u000a2\u000a2\u000a2\u000aExplanation\u000aQ1 : good strings are ch , checfch , cfch , ch\u000aQ2 : good strings are checf , checfchef , checfcheff , cf , cfchef , cfcheff , chef , cheff\u000aWarning\u000aLarge test data set, Prefer to use faster input/output methods .\u000aAuthor: ma5termind\u000aTester: shangjingbo\u000aEditorial: http://discuss.codechef.com/problems/STRQ\u000aTags: feb15 ma5termind precalculation\u000aDate Added: 9-10-2014\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC\u000aSUBMIT All submissions for this problem are available.\u000aRead problems statements in Mandarin Chinese and Russian.\u000aChef likes strings a lot but moreover he likes good strings. Chef calls a string str a good string if str starts and ends at different characters. For eg : strings such as abab , baccba , abc are all good strings whereas strings like aba, baab , baacaab are not good at all .\u000aToday, Chef has a special string P consisting of lower case letters "c" , "h" , "e" and "f" only. Chef wants to make some queries about his string P.\u000aEach of chef's query has the following form a b L R. For a given query, Chef wants to count the number of good strings which starts at letter a and ends at letter b such that starting index Si and ending index Ei of a chosen substring satisfies L <= Si < Ei <= R.\u000aNOTE\u000aTwo substrings P1 and P2 are considered to be different if either S1 != S2 or E1 != E2 where S1,E1 and S2,E2 are the starting and ending index of string P1 and string P2 respectively.\u000aChef is not able to accomplish this task efficiently. Can you help him ?\u000aInput\u000aFirst line of the input contains a string P denoting the chef's special string. Next line of the input contains a single integer Q denoting the number of chef's queries. Next Q lines of the input contains four space separated parameters where the first two parameters are characters denoting a and b respectively and rest two are integers denoting L and R respectively.\u000aOutput\u000aFor each chef's query, print the required answer.\u000aConstraints\u000a1 <= |P| <= 106\u000a1 <= Q <= 106\u000a1 <= L <= R <= |P|\u000aP,a,b belongs to the set of lower case letters [c,h,e,f] and a != b.\u000aAll test files are strictly according to constraints.\u000aSubtasks\u000aSubtask #1: 1<=|P|,Q<=104 : 27 pts\u000aSubtask #2: 1<=|P|,Q<=105 : 25 pts\u000aSubtask #3: 1<=|P|,Q<=106 : 48 pts\u000aExample\u000aInput\u000achecfcheff\u000a5\u000ac h 1 10\u000ac f 1 10\u000ae c 1 10\u000ac f 1 5\u000ac f 6 10\u000a\u000aOutput\u000a4\u000a8\u000a2\u000a2\u000a2\u000aExplanation\u000aQ1 : good strings are ch , checfch , cfch , ch\u000aQ2 : good strings are checf , checfchef , checfcheff , cf , cfchef , cfcheff , chef , cheff\u000aWarning\u000aLarge test data set, Prefer to use faster input/output methods .\u000aAuthor: ma5termind\u000aTester: shangjingbo\u000aEditorial: http://discuss.codechef.com/problems/STRQ\u000aTags: feb15 ma5termind precalculation\u000aDate Added: 9-10-2014\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC All submissions for this problem are available. Read problems statements in Mandarin Chinese and Russian. Mandarin Chinese Russian Chef likes strings a lot but moreover he likes good strings. Chef calls a string str a good string if str starts and ends at different characters. For eg : strings such as abab , baccba , abc are all good strings whereas strings like aba, baab , baacaab are not good at all . str str abab baccba abc aba baab baacaab Today, Chef has a special string P consisting of lower case letters "c" , "h" , "e" and "f" only. Chef wants to make some queries about his string P. P "c" "h" "e" "f" P Each of chef's query has the following form a b L R. For a given query, Chef wants to count the number of good strings which starts at letter a and ends at letter b such that starting index Si and ending index Ei of a chosen substring satisfies L <= Si < Ei <= R. a b L R a b Si i Ei i L <= Si < Ei <= R i i NOTE NOTE Two substrings P1 and P2 are considered to be different if either S1 != S2 or E1 != E2 where S1,E1 and S2,E2 are the starting and ending index of string P1 and string P2 respectively. P1 1 P2 2 S1 != S2 1 2 E1 != E2 1 2 S1,E1 1 1 S2,E2 2 2 P1 1 P2 2 Chef is not able to accomplish this task efficiently. Can you help him ? Input First line of the input contains a string P denoting the chef's special string. Next line of the input contains a single integer Q denoting the number of chef's queries. Next Q lines of the input contains four space separated parameters where the first two parameters are characters denoting a and b respectively and rest two are integers denoting L and R respectively. P Q Q four two a b two L R Output For each chef's query, print the required answer. Constraints 1 <= |P| <= 106\u000a1 <= Q <= 106\u000a1 <= L <= R <= |P|\u000aP,a,b belongs to the set of lower case letters [c,h,e,f] and a != b.\u000aAll test files are strictly according to constraints. 1 <= |P| <= 106 1 <= |P| <= 106 6 1 <= Q <= 106 1 <= Q <= 106 6 1 <= L <= R <= |P| 1 <= L <= R <= |P| P,a,b belongs to the set of lower case letters [c,h,e,f] and a != b. P,a,b [c,h,e,f] and a != b All test files are strictly according to constraints. All test files are strictly according to constraints. Subtasks Subtask #1: 1<=|P|,Q<=104 : 27 pts\u000aSubtask #2: 1<=|P|,Q<=105 : 25 pts\u000aSubtask #3: 1<=|P|,Q<=106 : 48 pts Subtask #1: 1<=|P|,Q<=104 : 27 pts 1<=|P|,Q<=104 : 27 pts 4 Subtask #2: 1<=|P|,Q<=105 : 25 pts 1<=|P|,Q<=105 : 25 pts 5 Subtask #3: 1<=|P|,Q<=106 : 48 pts 1<=|P|,Q<=106 : 48 pts 6 Example Input\u000achecfcheff\u000a5\u000ac h 1 10\u000ac f 1 10\u000ae c 1 10\u000ac f 1 5\u000ac f 6 10\u000a\u000aOutput\u000a4\u000a8\u000a2\u000a2\u000a2 Input Output Explanation Q1 : good strings are ch , checfch , cfch , ch\u000aQ2 : good strings are checf , checfchef , checfcheff , cf , cfchef , cfcheff , chef , cheff Q1 : good strings are ch , checfch , cfch , ch ch checfch cfch ch Q2 : good strings are checf , checfchef , checfcheff , cf , cfchef , cfcheff , chef , cheff checf checfchef checfcheff cf cfchef cfcheff chef cheff Warning Large test data set, Prefer to use faster input/output methods .  Author: ma5termind\u000aTester: shangjingbo\u000aEditorial: http://discuss.codechef.com/problems/STRQ\u000aTags: feb15 ma5termind precalculation\u000aDate Added: 9-10-2014\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: ma5termind\u000aTester: shangjingbo\u000aEditorial: http://discuss.codechef.com/problems/STRQ\u000aTags: feb15 ma5termind precalculation\u000aDate Added: 9-10-2014\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: ma5termind Author: ma5termind ma5termind Tester: shangjingbo Tester: shangjingbo shangjingbo Editorial: http://discuss.codechef.com/problems/STRQ Editorial: http://discuss.codechef.com/problems/STRQ http://discuss.codechef.com/problems/STRQ Tags: feb15 ma5termind precalculation Tags: feb15 ma5termind precalculation feb15 ma5termind precalculation Date Added: 9-10-2014 Date Added: 9-10-2014 Time Limit: 1 sec Time Limit: 1 sec Source Limit: 50000 Bytes Source Limit: 50000 Bytes Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC SUBMIT  SUBMIT SUBMIT SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS  
p9
sS'tags'
p10
V feb15 ma5termind precalculation
p11
sS'url'
p12
Vhttps://www.codechef.com/problems/STRQ
p13
sS'statement'
p14
(lp15
VAll submissions for this problem are available.
p16
aVRead problems statements in Mandarin Chinese and Russian.
p17
aVChef likes strings a lot but moreover he likes good strings. Chef calls a string str a good string if str starts and ends at different characters. For eg : strings such as abab , baccba , abc are all good strings whereas strings like aba, baab , baacaab are not good at all .
p18
aVToday, Chef has a special string P consisting of lower case letters "c" , "h" , "e" and "f" only. Chef wants to make some queries about his string P.
p19
aVEach of chef's query has the following form a b L R. For a given query, Chef wants to count the number of good strings which starts at letter a and ends at letter b such that starting index Si and ending index Ei of a chosen substring satisfies L <= Si < Ei <= R.
p20
aVNOTE
p21
aVTwo substrings P1 and P2 are considered to be different if either S1 != S2 or E1 != E2 where S1,E1 and S2,E2 are the starting and ending index of string P1 and string P2 respectively.
p22
aVChef is not able to accomplish this task efficiently. Can you help him ?
p23
asS'input'
p24
(lp25
VInput
p26
aVFirst line of the input contains a string P denoting the chef's special string. Next line of the input contains a single integer Q denoting the number of chef's queries. Next Q lines of the input contains four space separated parameters where the first two parameters are characters denoting a and b respectively and rest two are integers denoting L and R respectively.
p27
aVOutput
p28
aVFor each chef's query, print the required answer.
p29
asS'constraints'
p30
(lp31
VConstraints
p32
aV1 <= |P| <= 106
p33
aV1 <= Q <= 106
p34
aV1 <= L <= R <= |P|
p35
aVP,a,b belongs to the set of lower case letters [c,h,e,f] and a != b.
p36
aVAll test files are strictly according to constraints.
p37
aVSubtasks
p38
aVSubtask #1: 1<=|P|,Q<=104 : 27 pts
p39
aVSubtask #2: 1<=|P|,Q<=105 : 25 pts
p40
aVSubtask #3: 1<=|P|,Q<=106 : 48 pts
p41
asS'id'
p42
c__builtin__
id
p43
sS'name'
p44
VSTRQ
p45
sb.