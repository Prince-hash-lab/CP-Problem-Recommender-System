(iproblems
Problem
p0
(dp1
S'time_limit'
p2
(lp3
VTime Limit: 1 sec
p4
asS'source_limit'
p5
(lp6
VSource Limit: 50000 Bytes
p7
asS'description'
p8
V All submissions for this problem are available.\u000aRead problems statements in Mandarin Chinese, Russian and Vietnamese as well.\u000aWhile vacationing in Egypt, Chef found a recipe of an ancient dish. The receipt is a sequence of hieroglyphs written on a magic paper - it survived for thousands of years! The sequence is written on a long scroll. Unfortunately, the scroll is split into pieces, and possibly, some pieces of the scroll are missing. Chef has a total of N pieces, numbered for convenience from 1 to N. He gave the pieces of a tape to his friend who studies hieroglyphs for analysis. Chef was happy to hear that there are some relations between the pieces. Some of the pieces may follow other pieces.\u000aThe informations about these relations is given as a list of M pairs (Ai, Bi). Such a pair means that the Aith piece can be immediately followed by the Bith one.\u000aChef is working on recovering the recipe to prepare this dish for his Egyptian friends. He wants to place all the pieces into lines such that any pair of consecutive pieces (L, R) in a line must be explicitly allowed by one of the M rules described above. In other words, for some i (1 \u2264 i \u2264 M), (Ai, Bi) = (L, R). It appears that in general, not all the pieces can be placed in a single line while following the rules. So, please help Chef find what is the minimum number of lines required for all the pieces to be placed acoording to the rules.\u000aInput\u000aThe first line of the input contains an integer T denoting the number of test cases. The description of T test cases follows.\u000aThe first line of each test case contains two space-separated integers N and M denoting the number of pieces and number of relations of those N pieces. Next M lines contain two space-separated integers A and B denoting that piece number A can be followed by piece number B, all those pairs are guaraneed to be unique within a test case.\u000aOutput\u000aFor each test case, output a single line containing the minimum number of lines required for all the pieces to be placed acoording to the rules.\u000aConstraints\u000a1 \u2264 T \u2264 20\u000a1 \u2264 N \u2264 100\u000a1 \u2264 M \u2264 N2\u000a1 \u2264 Ai \u2264 N\u000a1 \u2264 Bi \u2264 N\u000aThere is no sequence S1, S2, ..., Sk such that the piece Si can be immediately followed by the piece Si+1 for all i from 1 to k-1, and that piece Sk can be followed by piece S1.\u000aExample\u000aInput:\u000a3\u000a3 3\u000a1 2\u000a2 3\u000a1 3\u000a3 2\u000a1 2\u000a1 3\u000a5 4\u000a1 3\u000a2 3\u000a3 4\u000a2 5\u000a\u000aOutput:\u000a1\u000a2\u000a2\u000aAuthor: cenadar\u000aTester: iscsi\u000aEditorial: http://discuss.codechef.com/problems/RECRECOV\u000aTags: cenadar easy-medium maxflow maximum-flow nov15\u000aDate Added: 23-07-2015\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC\u000aSUBMIT All submissions for this problem are available.\u000aRead problems statements in Mandarin Chinese, Russian and Vietnamese as well.\u000aWhile vacationing in Egypt, Chef found a recipe of an ancient dish. The receipt is a sequence of hieroglyphs written on a magic paper - it survived for thousands of years! The sequence is written on a long scroll. Unfortunately, the scroll is split into pieces, and possibly, some pieces of the scroll are missing. Chef has a total of N pieces, numbered for convenience from 1 to N. He gave the pieces of a tape to his friend who studies hieroglyphs for analysis. Chef was happy to hear that there are some relations between the pieces. Some of the pieces may follow other pieces.\u000aThe informations about these relations is given as a list of M pairs (Ai, Bi). Such a pair means that the Aith piece can be immediately followed by the Bith one.\u000aChef is working on recovering the recipe to prepare this dish for his Egyptian friends. He wants to place all the pieces into lines such that any pair of consecutive pieces (L, R) in a line must be explicitly allowed by one of the M rules described above. In other words, for some i (1 \u2264 i \u2264 M), (Ai, Bi) = (L, R). It appears that in general, not all the pieces can be placed in a single line while following the rules. So, please help Chef find what is the minimum number of lines required for all the pieces to be placed acoording to the rules.\u000aInput\u000aThe first line of the input contains an integer T denoting the number of test cases. The description of T test cases follows.\u000aThe first line of each test case contains two space-separated integers N and M denoting the number of pieces and number of relations of those N pieces. Next M lines contain two space-separated integers A and B denoting that piece number A can be followed by piece number B, all those pairs are guaraneed to be unique within a test case.\u000aOutput\u000aFor each test case, output a single line containing the minimum number of lines required for all the pieces to be placed acoording to the rules.\u000aConstraints\u000a1 \u2264 T \u2264 20\u000a1 \u2264 N \u2264 100\u000a1 \u2264 M \u2264 N2\u000a1 \u2264 Ai \u2264 N\u000a1 \u2264 Bi \u2264 N\u000aThere is no sequence S1, S2, ..., Sk such that the piece Si can be immediately followed by the piece Si+1 for all i from 1 to k-1, and that piece Sk can be followed by piece S1.\u000aExample\u000aInput:\u000a3\u000a3 3\u000a1 2\u000a2 3\u000a1 3\u000a3 2\u000a1 2\u000a1 3\u000a5 4\u000a1 3\u000a2 3\u000a3 4\u000a2 5\u000a\u000aOutput:\u000a1\u000a2\u000a2\u000aAuthor: cenadar\u000aTester: iscsi\u000aEditorial: http://discuss.codechef.com/problems/RECRECOV\u000aTags: cenadar easy-medium maxflow maximum-flow nov15\u000aDate Added: 23-07-2015\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC All submissions for this problem are available. Read problems statements in Mandarin Chinese, Russian and Vietnamese as well. Mandarin Chinese Russian Vietnamese While vacationing in Egypt, Chef found a recipe of an ancient dish. The receipt is a sequence of hieroglyphs written on a magic paper - it survived for thousands of years! The sequence is written on a long scroll. Unfortunately, the scroll is split into pieces, and possibly, some pieces of the scroll are missing. Chef has a total of N pieces, numbered for convenience from 1 to N. He gave the pieces of a tape to his friend who studies hieroglyphs for analysis. Chef was happy to hear that there are some relations between the pieces. Some of the pieces may follow other pieces. N 1 N The informations about these relations is given as a list of M pairs (Ai, Bi). Such a pair means that the Aith piece can be immediately followed by the Bith one. M Ai i Bi i Ai i th Bi i th Chef is working on recovering the recipe to prepare this dish for his Egyptian friends. He wants to place all the pieces into lines such that any pair of consecutive pieces (L, R) in a line must be explicitly allowed by one of the M rules described above. In other words, for some i (1 \u2264 i \u2264 M), (Ai, Bi) = (L, R). It appears that in general, not all the pieces can be placed in a single line while following the rules. So, please help Chef find what is the minimum number of lines required for all the pieces to be placed acoording to the rules. L R M i i M Ai i Bi i L R Input The first line of the input contains an integer T denoting the number of test cases. The description of T test cases follows. T T The first line of each test case contains two space-separated integers N and M denoting the number of pieces and number of relations of those N pieces. Next M lines contain two space-separated integers A and B denoting that piece number A can be followed by piece number B, all those pairs are guaraneed to be unique within a test case. N M N M A B A B Output For each test case, output a single line containing the minimum number of lines required for all the pieces to be placed acoording to the rules. Constraints 1 \u2264 T \u2264 20\u000a1 \u2264 N \u2264 100\u000a1 \u2264 M \u2264 N2\u000a1 \u2264 Ai \u2264 N\u000a1 \u2264 Bi \u2264 N\u000aThere is no sequence S1, S2, ..., Sk such that the piece Si can be immediately followed by the piece Si+1 for all i from 1 to k-1, and that piece Sk can be followed by piece S1. 1 \u2264 T \u2264 20 1 T 20 1 \u2264 N \u2264 100 1 N 100 1 \u2264 M \u2264 N2 1 M N2 2 1 \u2264 Ai \u2264 N 1 Ai i N 1 \u2264 Bi \u2264 N 1 Bi i N There is no sequence S1, S2, ..., Sk such that the piece Si can be immediately followed by the piece Si+1 for all i from 1 to k-1, and that piece Sk can be followed by piece S1. S1 1 S2 2 Sk k Si i Si+1 i+1 i 1 k-1 Sk k S1 1 Example Input:\u000a3\u000a3 3\u000a1 2\u000a2 3\u000a1 3\u000a3 2\u000a1 2\u000a1 3\u000a5 4\u000a1 3\u000a2 3\u000a3 4\u000a2 5\u000a\u000aOutput:\u000a1\u000a2\u000a2 Input: Output:  Author: cenadar\u000aTester: iscsi\u000aEditorial: http://discuss.codechef.com/problems/RECRECOV\u000aTags: cenadar easy-medium maxflow maximum-flow nov15\u000aDate Added: 23-07-2015\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: cenadar\u000aTester: iscsi\u000aEditorial: http://discuss.codechef.com/problems/RECRECOV\u000aTags: cenadar easy-medium maxflow maximum-flow nov15\u000aDate Added: 23-07-2015\u000aTime Limit: 1 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: cenadar Author: cenadar cenadar Tester: iscsi Tester: iscsi iscsi Editorial: http://discuss.codechef.com/problems/RECRECOV Editorial: http://discuss.codechef.com/problems/RECRECOV http://discuss.codechef.com/problems/RECRECOV Tags: cenadar easy-medium maxflow maximum-flow nov15 Tags: cenadar easy-medium maxflow maximum-flow nov15 cenadar easy-medium maxflow maximum-flow nov15 Date Added: 23-07-2015 Date Added: 23-07-2015 Time Limit: 1 sec Time Limit: 1 sec Source Limit: 50000 Bytes Source Limit: 50000 Bytes Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYPY, PYTH, PYTH 3.4, RUBY, SCALA, SCM chicken, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC SUBMIT  SUBMIT SUBMIT SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS  
p9
sS'tags'
p10
V cenadar easy-medium maxflow maximum-flow nov15
p11
sS'url'
p12
Vhttps://www.codechef.com/problems/RECRECOV
p13
sS'statement'
p14
(lp15
VAll submissions for this problem are available.
p16
aVRead problems statements in Mandarin Chinese, Russian and Vietnamese as well.
p17
aVWhile vacationing in Egypt, Chef found a recipe of an ancient dish. The receipt is a sequence of hieroglyphs written on a magic paper - it survived for thousands of years! The sequence is written on a long scroll. Unfortunately, the scroll is split into pieces, and possibly, some pieces of the scroll are missing. Chef has a total of N pieces, numbered for convenience from 1 to N. He gave the pieces of a tape to his friend who studies hieroglyphs for analysis. Chef was happy to hear that there are some relations between the pieces. Some of the pieces may follow other pieces.
p18
aVThe informations about these relations is given as a list of M pairs (Ai, Bi). Such a pair means that the Aith piece can be immediately followed by the Bith one.
p19
aVChef is working on recovering the recipe to prepare this dish for his Egyptian friends. He wants to place all the pieces into lines such that any pair of consecutive pieces (L, R) in a line must be explicitly allowed by one of the M rules described above. In other words, for some i (1 \u2264 i \u2264 M), (Ai, Bi) = (L, R). It appears that in general, not all the pieces can be placed in a single line while following the rules. So, please help Chef find what is the minimum number of lines required for all the pieces to be placed acoording to the rules.
p20
asS'input'
p21
(lp22
VInput
p23
aVThe first line of the input contains an integer T denoting the number of test cases. The description of T test cases follows.
p24
aVThe first line of each test case contains two space-separated integers N and M denoting the number of pieces and number of relations of those N pieces. Next M lines contain two space-separated integers A and B denoting that piece number A can be followed by piece number B, all those pairs are guaraneed to be unique within a test case.
p25
aVOutput
p26
aVFor each test case, output a single line containing the minimum number of lines required for all the pieces to be placed acoording to the rules.
p27
asS'constraints'
p28
(lp29
VConstraints
p30
aV1 \u2264 T \u2264 20
p31
aV1 \u2264 N \u2264 100
p32
aV1 \u2264 M \u2264 N2
p33
aV1 \u2264 Ai \u2264 N
p34
aV1 \u2264 Bi \u2264 N
p35
aVThere is no sequence S1, S2, ..., Sk such that the piece Si can be immediately followed by the piece Si+1 for all i from 1 to k-1, and that piece Sk can be followed by piece S1.
p36
asS'id'
p37
c__builtin__
id
p38
sS'name'
p39
VRECRECOV
p40
sb.