(iproblems
Problem
p0
(dp1
S'time_limit'
p2
(lp3
VTime Limit: 4 sec
p4
asS'source_limit'
p5
(lp6
VSource Limit: 50000 Bytes
p7
asS'description'
p8
V All submissions for this problem are available.\u000aAlice and Bob have decided to play the following game. Initially there are N diamonds placed in a straight line. Diamonds numbered from 1 to N in consecutive order. Each diamond has a specific value. The value of i-th diamond is Vi for i from 1 to N. Players make moves alternatively. In each move player proceeds as follows. If there is only one diamond left the player takes it otherwise he/she tosses the unbiased coin and if it lands on heads he/she takes the first diamond among the diamonds that are currently present in a line, otherwise he/she takes the\u000alast diamond. What is the expected total value Alice will get, if she plays first? Note that the unbiased coin lands on heads with probability 0.5 (and hence lands on tail with the same probability). Also note that the total value is the sum of values of all diamonds that Alice will get.\u000aInput\u000aThe first line of the input contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly 2 lines. The first line of each test case contains a single integer\u000aN, the number of diamonds. The second line contains N space separated integers\u000aV1, V2, ..., VN, the values of diamonds in the order they lie in a line.\u000aOutput\u000aOutput for each test case should contain a single real number in a separate line, the expected total value Alice will get for this particular test. Your answer will be considered as correct if it has an absolute error less than 10-2.\u000aConstraints\u000a1 \u2264 T \u2264 500\u000a1 \u2264 N \u2264 2000\u000a0 \u2264 Vi \u2264 999\u000aExample\u000aInput\u000a4\u000a1\u000a100\u000a2\u000a42 0\u000a3\u000a1 4 9\u000a4\u000a5 5 5 5\u000a\u000aOutput\u000a100.000\u000a21.000\u000a9.500\u000a10.000\u000aExplanation\u000aCase 1: In the first move Alice has to take 100, and this is the only move. Hence, the expected value Alice will get is 100.\u000aCase 2: It is quite clear that Alice will make only 1 move. As she can get 42 or 0 with\u000aequal probability, the expected value she will get is equal to 0.5 \u2219 42 + 0.5 \u2219 0 = 21.\u000aCase 3: Let's consider all possible scenarios how game can proceed:\u000a1st move 2nd move 3rd move Alice total value\u000aAlice gets 1 Bob gets 4 Alice gets 9 10\u000aAlice gets 1 Bob gets 9 Alice gets 4 5\u000aAlice gets 9 Bob gets 1 Alice gets 4 13\u000aAlice gets 9 Bob gets 4 Alice gets 1 10\u000aClearly each of these scenarios will happen with probability 0.5 \u2219 0.5 = 0.25. Hence the expected value Alice will get is equal to 0.25 \u2219 10 + 0.25 \u2219 5 + 0.25 \u2219 13 + 0.25 \u2219 10 = 9.5.\u000aCase 4: Out of the 4 diamonds, Alice will get some 2 of them. As all of the diamonds have the same value 5, the expected value she will get is equal to 5 + 5 = 10.\u000aAuthor: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/DIAMOND\u000aTags: dp easy kaushik_iska oct12\u000aDate Added: 17-09-2012\u000aTime Limit: 4 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC\u000aSUBMIT All submissions for this problem are available.\u000aAlice and Bob have decided to play the following game. Initially there are N diamonds placed in a straight line. Diamonds numbered from 1 to N in consecutive order. Each diamond has a specific value. The value of i-th diamond is Vi for i from 1 to N. Players make moves alternatively. In each move player proceeds as follows. If there is only one diamond left the player takes it otherwise he/she tosses the unbiased coin and if it lands on heads he/she takes the first diamond among the diamonds that are currently present in a line, otherwise he/she takes the\u000alast diamond. What is the expected total value Alice will get, if she plays first? Note that the unbiased coin lands on heads with probability 0.5 (and hence lands on tail with the same probability). Also note that the total value is the sum of values of all diamonds that Alice will get.\u000aInput\u000aThe first line of the input contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly 2 lines. The first line of each test case contains a single integer\u000aN, the number of diamonds. The second line contains N space separated integers\u000aV1, V2, ..., VN, the values of diamonds in the order they lie in a line.\u000aOutput\u000aOutput for each test case should contain a single real number in a separate line, the expected total value Alice will get for this particular test. Your answer will be considered as correct if it has an absolute error less than 10-2.\u000aConstraints\u000a1 \u2264 T \u2264 500\u000a1 \u2264 N \u2264 2000\u000a0 \u2264 Vi \u2264 999\u000aExample\u000aInput\u000a4\u000a1\u000a100\u000a2\u000a42 0\u000a3\u000a1 4 9\u000a4\u000a5 5 5 5\u000a\u000aOutput\u000a100.000\u000a21.000\u000a9.500\u000a10.000\u000aExplanation\u000aCase 1: In the first move Alice has to take 100, and this is the only move. Hence, the expected value Alice will get is 100.\u000aCase 2: It is quite clear that Alice will make only 1 move. As she can get 42 or 0 with\u000aequal probability, the expected value she will get is equal to 0.5 \u2219 42 + 0.5 \u2219 0 = 21.\u000aCase 3: Let's consider all possible scenarios how game can proceed:\u000a1st move 2nd move 3rd move Alice total value\u000aAlice gets 1 Bob gets 4 Alice gets 9 10\u000aAlice gets 1 Bob gets 9 Alice gets 4 5\u000aAlice gets 9 Bob gets 1 Alice gets 4 13\u000aAlice gets 9 Bob gets 4 Alice gets 1 10\u000aClearly each of these scenarios will happen with probability 0.5 \u2219 0.5 = 0.25. Hence the expected value Alice will get is equal to 0.25 \u2219 10 + 0.25 \u2219 5 + 0.25 \u2219 13 + 0.25 \u2219 10 = 9.5.\u000aCase 4: Out of the 4 diamonds, Alice will get some 2 of them. As all of the diamonds have the same value 5, the expected value she will get is equal to 5 + 5 = 10.\u000aAuthor: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/DIAMOND\u000aTags: dp easy kaushik_iska oct12\u000aDate Added: 17-09-2012\u000aTime Limit: 4 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC All submissions for this problem are available. Alice and Bob have decided to play the following game. Initially there are N diamonds placed in a straight line. Diamonds numbered from 1 to N in consecutive order. Each diamond has a specific value. The value of i-th diamond is Vi for i from 1 to N. Players make moves alternatively. In each move player proceeds as follows. If there is only one diamond left the player takes it otherwise he/she tosses the unbiased coin and if it lands on heads he/she takes the first diamond among the diamonds that are currently present in a line, otherwise he/she takes the\u000alast diamond. What is the expected total value Alice will get, if she plays first? Note that the unbiased coin lands on heads with probability 0.5 (and hence lands on tail with the same probability). Also note that the total value is the sum of values of all diamonds that Alice will get. Alice Bob N N i- Vi i i N first  last Alice first Input The first line of the input contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly 2 lines. The first line of each test case contains a single integer\u000aN, the number of diamonds. The second line contains N space separated integers\u000aV1, V2, ..., VN, the values of diamonds in the order they lie in a line. T T  N N  V1 1 V2 2 VN N Output Output for each test case should contain a single real number in a separate line, the expected total value Alice will get for this particular test. Your answer will be considered as correct if it has an absolute error less than 10-2. 10-2 -2 Constraints 1 \u2264 T \u2264 500\u000a1 \u2264 N \u2264 2000\u000a0 \u2264 Vi \u2264 999 T  N  Vi i Example Input\u000a4\u000a1\u000a100\u000a2\u000a42 0\u000a3\u000a1 4 9\u000a4\u000a5 5 5 5\u000a\u000aOutput\u000a100.000\u000a21.000\u000a9.500\u000a10.000 Input Output Explanation Case 1: In the first move Alice has to take 100, and this is the only move. Hence, the expected value Alice will get is 100. Case 1: 100 100 Case 2: It is quite clear that Alice will make only 1 move. As she can get 42 or 0 with\u000aequal probability, the expected value she will get is equal to 0.5 \u2219 42 + 0.5 \u2219 0 = 21. Case 2: 42 0  0.5 \u2219 42 + 0.5 \u2219 0 = 21 Case 3: Let's consider all possible scenarios how game can proceed: Case 3: 1st move 2nd move 3rd move Alice total value\u000aAlice gets 1 Bob gets 4 Alice gets 9 10\u000aAlice gets 1 Bob gets 9 Alice gets 4 5\u000aAlice gets 9 Bob gets 1 Alice gets 4 13\u000aAlice gets 9 Bob gets 4 Alice gets 1 10 1st move 2nd move 3rd move Alice total value\u000aAlice gets 1 Bob gets 4 Alice gets 9 10\u000aAlice gets 1 Bob gets 9 Alice gets 4 5\u000aAlice gets 9 Bob gets 1 Alice gets 4 13\u000aAlice gets 9 Bob gets 4 Alice gets 1 10 1st move 2nd move 3rd move Alice total value 1st move 2nd move 3rd move Alice total value Alice gets 1 Bob gets 4 Alice gets 9 10 Alice gets 1 Bob gets 4 Alice gets 9 10 Alice gets 1 Bob gets 9 Alice gets 4 5 Alice gets 1 Bob gets 9 Alice gets 4 5 Alice gets 9 Bob gets 1 Alice gets 4 13 Alice gets 9 Bob gets 1 Alice gets 4 13 Alice gets 9 Bob gets 4 Alice gets 1 10 Alice gets 9 Bob gets 4 Alice gets 1 10 Clearly each of these scenarios will happen with probability 0.5 \u2219 0.5 = 0.25. Hence the expected value Alice will get is equal to 0.25 \u2219 10 + 0.25 \u2219 5 + 0.25 \u2219 13 + 0.25 \u2219 10 = 9.5. 0.5 \u2219 0.5 = 0.25 0.25 \u2219 10 + 0.25 \u2219 5 + 0.25 \u2219 13 + 0.25 \u2219 10 = 9.5 Case 4: Out of the 4 diamonds, Alice will get some 2 of them. As all of the diamonds have the same value 5, the expected value she will get is equal to 5 + 5 = 10. Case 4: 5 5 + 5 = 10  Author: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/DIAMOND\u000aTags: dp easy kaushik_iska oct12\u000aDate Added: 17-09-2012\u000aTime Limit: 4 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/DIAMOND\u000aTags: dp easy kaushik_iska oct12\u000aDate Added: 17-09-2012\u000aTime Limit: 4 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: kaushik_iska Author: kaushik_iska kaushik_iska Tester: anton_lunyov Tester: anton_lunyov anton_lunyov Editorial: http://discuss.codechef.com/problems/DIAMOND Editorial: http://discuss.codechef.com/problems/DIAMOND http://discuss.codechef.com/problems/DIAMOND Tags: dp easy kaushik_iska oct12 Tags: dp easy kaushik_iska oct12 dp easy kaushik_iska oct12 Date Added: 17-09-2012 Date Added: 17-09-2012 Time Limit: 4 sec Time Limit: 4 sec Source Limit: 50000 Bytes Source Limit: 50000 Bytes Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC SUBMIT  SUBMIT SUBMIT SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS  
p9
sS'tags'
p10
V dp easy kaushik_iska oct12
p11
sS'url'
p12
Vhttps://www.codechef.com/problems/DIAMOND
p13
sS'statement'
p14
(lp15
VAll submissions for this problem are available.
p16
aVAlice and Bob have decided to play the following game. Initially there are N diamonds placed in a straight line. Diamonds numbered from 1 to N in consecutive order. Each diamond has a specific value. The value of i-th diamond is Vi for i from 1 to N. Players make moves alternatively. In each move player proceeds as follows. If there is only one diamond left the player takes it otherwise he/she tosses the unbiased coin and if it lands on heads he/she takes the first diamond among the diamonds that are currently present in a line, otherwise he/she takes the
p17
aVlast diamond. What is the expected total value Alice will get, if she plays first? Note that the unbiased coin lands on heads with probability 0.5 (and hence lands on tail with the same probability). Also note that the total value is the sum of values of all diamonds that Alice will get.
p18
asS'input'
p19
(lp20
VInput
p21
aVThe first line of the input contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly 2 lines. The first line of each test case contains a single integer
p22
aVN, the number of diamonds. The second line contains N space separated integers
p23
aVV1, V2, ..., VN, the values of diamonds in the order they lie in a line.
p24
aVOutput
p25
aVOutput for each test case should contain a single real number in a separate line, the expected total value Alice will get for this particular test. Your answer will be considered as correct if it has an absolute error less than 10-2.
p26
asS'constraints'
p27
(lp28
VConstraints
p29
aV1 \u2264 T \u2264 500
p30
aV1 \u2264 N \u2264 2000
p31
aV0 \u2264 Vi \u2264 999
p32
asS'id'
p33
c__builtin__
id
p34
sS'name'
p35
VDIAMOND
p36
sb.