(iproblems
Problem
p0
(dp1
S'time_limit'
p2
(lp3
VTime Limit: 2 sec
p4
asS'source_limit'
p5
(lp6
VSource Limit: 50000 Bytes
p7
asS'description'
p8
V All submissions for this problem are available.\u000aFrom the FAQ:\u000aWhat am I allowed to post as a comment for a problem?\u000aDo NOT post code.\u000aDo NOT post a comment asking why your solution is wrong.\u000aDo NOT post a comment asking if you can be given the test case your program fails on.\u000aDo NOT post a comment asking how your solution can be improved.\u000aDo NOT post a comment giving any hints or discussing approaches to the problem, or what type or speed of algorithm is required.\u000aProblem Statement\u000aChef Doom has decided to bake a circular cake. He wants to place N colored cherries around the cake in a circular manner. As all great chefs do, Doom doesn't want any two adjacent cherries to have the same color. Chef has unlimited supply of cherries of K \u2264 10 different colors. Each color is denoted by the digit from the set {0, 1, ..., K \u2013 1}. Different colors are denoted by different digits. Some of the cherries are already placed and the Chef wants you to place cherries in the remaining positions. He understands that there can be many such arrangements, so in the case when the answer is not unique he asks you to find the lexicographically smallest one.\u000aWhat does it mean?\u000aLet's numerate positions for the cherries by the numbers 1, 2, ..., N starting from one of the positions in a clockwise direction. Then the current (possibly partial) arrangement of the cherries can be represented by a string of N characters. For each position i of the arrangement if the cherry of the color C is placed at this position then the ith character of the string is equal to the digit C. Otherwise, it is equal to the question mark ?. We identify the arrangement with the string that represents it.\u000aOne arrangement is called lexicographically smaller than the other arrangement if at the first position where they differ the first one has smaller digit (we compare only complete arrangements so we don't care about relation between digits and the question mark). For example, the arrangement 1230123 is lexicographically smaller than 1231230 since they have first 3 equal characters but the 4th character in the first arrangement is 0 and it is less than 1 which is the 4th character of the second arrangement.\u000aNotes\u000aThe cherries at the first and the last positions are adjacent to each other (recall that we have a circular cake).\u000aIn the case N = 1 any arrangement is valid as long as the color used for the only cherry of this arrangement is less than K.\u000aInitial arrangement can be already invalid (see the case 3 in the example).\u000aJust to make all things clear. You will be given a usual string of digits and question marks. Don't be confused by circular stuff we have in this problem. You don't have to rotate the answer once you have replaced all question marks by the digits. Think of the output like the usual string for which each two consecutive digits must be different but having additional condition that the first and the last digits must be also different (of course if N > 1).\u000aNext, you don't have to use all colors. The only important condition is that this string should be lexicographically smaller than all other strings that can be obtained from the input string by replacement of question marks by digits and of course it must satisfy conditions on adjacent digits.\u000aOne more thing, K here is not the length of the string but the number of allowed colors. Also we emphasize that the given string can have arbitrary number of question marks. So it can have zero number of question marks as well as completely consists of question marks but of course in general situation it can have both digits and question marks.\u000aOK. Let's try to formalize things in order to make all even more clear. You will be given an integer K and a string S=S[1]S[2]...S[N] where each S[i] is either the decimal digit less than K or the question mark. We are serious. In all tests string S can have only digits less than K. Don't ask about what to do if we have digit \u2265 K. There are no such tests at all! We guarantee this! OK, let's continue. Your task is to replace each question mark by some digit strictly less than K. If there were no question marks in the string skip this step. Now if N=1 then your string is already valid. For N > 1 it must satisfy the following N conditions S[1] \u2260 S[2], S[2] \u2260 S[3], ..., S[N-1] \u2260 S[N], S[N] \u2260 S[1]. Among all such valid strings that can be obtained by replacement of question marks you should choose lexicographically smallest one. I hope now the problem is really clear.\u000aInput\u000aThe first line of the input file contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly two lines. The first line contains an integer K, the number of available colors for cherries. The second line contains a string S that represents the current arrangement of the cherries in the cake.\u000aConstraints\u000a1 \u2264 T \u2264 1000\u000a1 \u2264 K \u2264 10\u000a1 \u2264 |S| \u2264 100, where |S| denotes the length of the string S\u000aEach character in S is either the digit from the set {0, 1, ..., K \u2013 1} or the question mark ?\u000aOutput\u000aFor each test case output the lexicographically smallest valid arrangement of the cherries in the cake that can be obtained from the given arrangement by replacement of each question mark by some digit from 0 to K \u2013 1. If it is impossible to place the cherries output NO (output is case sensitive).\u000aExample\u000aInput:\u000a7\u000a1\u000a?\u000a2\u000a?0\u000a10\u000a79259?087\u000a2\u000a??\u000a3\u000a0?1\u000a4\u000a?????\u000a3\u000a012\u000a\u000aOutput:\u000a0\u000a10\u000aNO\u000a01\u000a021\u000a01012\u000a012\u000aExplanation\u000aCase 2. The only possible replacement here is 10. Note that we output 10 since we can not rotate the answer to obtain 01 which is smaller.\u000aCase 3. Arrangement is impossible because cherries at the first and the last positions are already of the same color. Note that K = 10 but the string has length 9. It is normal. K and |S| don't have any connection.\u000aCase 4. There are two possible arrangements: 01 and 10. The answer is the first one since it is lexicographically smaller.\u000aCase 5. There are three possible ways to replace question mark by the digit: 001, 011 and 021. But the first and the second strings are not valid arrangements as in both of them there exists an adjacent pair of cherries having the same color. Hence the answer is the third string.\u000aCase 6. Note that here we do not use all colors. We just find the lexicographically smallest string that satisfies condition on adjacent digit.\u000aCase 7. The string is already valid arrangement of digits. Hence we simply print the same string to the output.\u000aAuthor: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/CAKEDOOM\u000aTags: greedy june12 kaushik_iska simple\u000aDate Added: 16-04-2012\u000aTime Limit: 2 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC\u000aSUBMIT All submissions for this problem are available.\u000aFrom the FAQ:\u000aWhat am I allowed to post as a comment for a problem?\u000aDo NOT post code.\u000aDo NOT post a comment asking why your solution is wrong.\u000aDo NOT post a comment asking if you can be given the test case your program fails on.\u000aDo NOT post a comment asking how your solution can be improved.\u000aDo NOT post a comment giving any hints or discussing approaches to the problem, or what type or speed of algorithm is required.\u000aProblem Statement\u000aChef Doom has decided to bake a circular cake. He wants to place N colored cherries around the cake in a circular manner. As all great chefs do, Doom doesn't want any two adjacent cherries to have the same color. Chef has unlimited supply of cherries of K \u2264 10 different colors. Each color is denoted by the digit from the set {0, 1, ..., K \u2013 1}. Different colors are denoted by different digits. Some of the cherries are already placed and the Chef wants you to place cherries in the remaining positions. He understands that there can be many such arrangements, so in the case when the answer is not unique he asks you to find the lexicographically smallest one.\u000aWhat does it mean?\u000aLet's numerate positions for the cherries by the numbers 1, 2, ..., N starting from one of the positions in a clockwise direction. Then the current (possibly partial) arrangement of the cherries can be represented by a string of N characters. For each position i of the arrangement if the cherry of the color C is placed at this position then the ith character of the string is equal to the digit C. Otherwise, it is equal to the question mark ?. We identify the arrangement with the string that represents it.\u000aOne arrangement is called lexicographically smaller than the other arrangement if at the first position where they differ the first one has smaller digit (we compare only complete arrangements so we don't care about relation between digits and the question mark). For example, the arrangement 1230123 is lexicographically smaller than 1231230 since they have first 3 equal characters but the 4th character in the first arrangement is 0 and it is less than 1 which is the 4th character of the second arrangement.\u000aNotes\u000aThe cherries at the first and the last positions are adjacent to each other (recall that we have a circular cake).\u000aIn the case N = 1 any arrangement is valid as long as the color used for the only cherry of this arrangement is less than K.\u000aInitial arrangement can be already invalid (see the case 3 in the example).\u000aJust to make all things clear. You will be given a usual string of digits and question marks. Don't be confused by circular stuff we have in this problem. You don't have to rotate the answer once you have replaced all question marks by the digits. Think of the output like the usual string for which each two consecutive digits must be different but having additional condition that the first and the last digits must be also different (of course if N > 1).\u000aNext, you don't have to use all colors. The only important condition is that this string should be lexicographically smaller than all other strings that can be obtained from the input string by replacement of question marks by digits and of course it must satisfy conditions on adjacent digits.\u000aOne more thing, K here is not the length of the string but the number of allowed colors. Also we emphasize that the given string can have arbitrary number of question marks. So it can have zero number of question marks as well as completely consists of question marks but of course in general situation it can have both digits and question marks.\u000aOK. Let's try to formalize things in order to make all even more clear. You will be given an integer K and a string S=S[1]S[2]...S[N] where each S[i] is either the decimal digit less than K or the question mark. We are serious. In all tests string S can have only digits less than K. Don't ask about what to do if we have digit \u2265 K. There are no such tests at all! We guarantee this! OK, let's continue. Your task is to replace each question mark by some digit strictly less than K. If there were no question marks in the string skip this step. Now if N=1 then your string is already valid. For N > 1 it must satisfy the following N conditions S[1] \u2260 S[2], S[2] \u2260 S[3], ..., S[N-1] \u2260 S[N], S[N] \u2260 S[1]. Among all such valid strings that can be obtained by replacement of question marks you should choose lexicographically smallest one. I hope now the problem is really clear.\u000aInput\u000aThe first line of the input file contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly two lines. The first line contains an integer K, the number of available colors for cherries. The second line contains a string S that represents the current arrangement of the cherries in the cake.\u000aConstraints\u000a1 \u2264 T \u2264 1000\u000a1 \u2264 K \u2264 10\u000a1 \u2264 |S| \u2264 100, where |S| denotes the length of the string S\u000aEach character in S is either the digit from the set {0, 1, ..., K \u2013 1} or the question mark ?\u000aOutput\u000aFor each test case output the lexicographically smallest valid arrangement of the cherries in the cake that can be obtained from the given arrangement by replacement of each question mark by some digit from 0 to K \u2013 1. If it is impossible to place the cherries output NO (output is case sensitive).\u000aExample\u000aInput:\u000a7\u000a1\u000a?\u000a2\u000a?0\u000a10\u000a79259?087\u000a2\u000a??\u000a3\u000a0?1\u000a4\u000a?????\u000a3\u000a012\u000a\u000aOutput:\u000a0\u000a10\u000aNO\u000a01\u000a021\u000a01012\u000a012\u000aExplanation\u000aCase 2. The only possible replacement here is 10. Note that we output 10 since we can not rotate the answer to obtain 01 which is smaller.\u000aCase 3. Arrangement is impossible because cherries at the first and the last positions are already of the same color. Note that K = 10 but the string has length 9. It is normal. K and |S| don't have any connection.\u000aCase 4. There are two possible arrangements: 01 and 10. The answer is the first one since it is lexicographically smaller.\u000aCase 5. There are three possible ways to replace question mark by the digit: 001, 011 and 021. But the first and the second strings are not valid arrangements as in both of them there exists an adjacent pair of cherries having the same color. Hence the answer is the third string.\u000aCase 6. Note that here we do not use all colors. We just find the lexicographically smallest string that satisfies condition on adjacent digit.\u000aCase 7. The string is already valid arrangement of digits. Hence we simply print the same string to the output.\u000aAuthor: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/CAKEDOOM\u000aTags: greedy june12 kaushik_iska simple\u000aDate Added: 16-04-2012\u000aTime Limit: 2 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC All submissions for this problem are available. From the FAQ: From the FAQ: What am I allowed to post as a comment for a problem? Do NOT post code.\u000aDo NOT post a comment asking why your solution is wrong.\u000aDo NOT post a comment asking if you can be given the test case your program fails on.\u000aDo NOT post a comment asking how your solution can be improved.\u000aDo NOT post a comment giving any hints or discussing approaches to the problem, or what type or speed of algorithm is required. Do NOT post code.\u000aDo NOT post a comment asking why your solution is wrong.\u000aDo NOT post a comment asking if you can be given the test case your program fails on.\u000aDo NOT post a comment asking how your solution can be improved.\u000aDo NOT post a comment giving any hints or discussing approaches to the problem, or what type or speed of algorithm is required. Do NOT post code. Do NOT post a comment asking why your solution is wrong. Do NOT post a comment asking if you can be given the test case your program fails on. Do NOT post a comment asking how your solution can be improved. Do NOT post a comment giving any hints or discussing approaches to the problem, or what type or speed of algorithm is required. Problem Statement Chef Doom has decided to bake a circular cake. He wants to place N colored cherries around the cake in a circular manner. As all great chefs do, Doom doesn't want any two adjacent cherries to have the same color. Chef has unlimited supply of cherries of K \u2264 10 different colors. Each color is denoted by the digit from the set {0, 1, ..., K \u2013 1}. Different colors are denoted by different digits. Some of the cherries are already placed and the Chef wants you to place cherries in the remaining positions. He understands that there can be many such arrangements, so in the case when the answer is not unique he asks you to find the lexicographically smallest one. N K 10 {0, 1, ..., K \u2013 1} What does it mean? Let's numerate positions for the cherries by the numbers 1, 2, ..., N starting from one of the positions in a clockwise direction. Then the current (possibly partial) arrangement of the cherries can be represented by a string of N characters. For each position i of the arrangement if the cherry of the color C is placed at this position then the ith character of the string is equal to the digit C. Otherwise, it is equal to the question mark ?. We identify the arrangement with the string that represents it. 1 2 N N i C i th C ? One arrangement is called lexicographically smaller than the other arrangement if at the first position where they differ the first one has smaller digit (we compare only complete arrangements so we don't care about relation between digits and the question mark). For example, the arrangement 1230123 is lexicographically smaller than 1231230 since they have first 3 equal characters but the 4th character in the first arrangement is 0 and it is less than 1 which is the 4th character of the second arrangement. lexicographically smaller 1230123 1231230 3 4 th 0 1 4 th Notes Notes The cherries at the first and the last positions are adjacent to each other (recall that we have a circular cake).\u000aIn the case N = 1 any arrangement is valid as long as the color used for the only cherry of this arrangement is less than K.\u000aInitial arrangement can be already invalid (see the case 3 in the example). The cherries at the first and the last positions are adjacent to each other (recall that we have a circular cake). In the case N = 1 any arrangement is valid as long as the color used for the only cherry of this arrangement is less than K. N 1 K Initial arrangement can be already invalid (see the case 3 in the example).   Just to make all things clear. You will be given a usual string of digits and question marks. Don't be confused by circular stuff we have in this problem. You don't have to rotate the answer once you have replaced all question marks by the digits. Think of the output like the usual string for which each two consecutive digits must be different but having additional condition that the first and the last digits must be also different (of course if N > 1). Just to make all things clear. You will be given a usual string of digits and question marks. Don't be confused by circular stuff we have in this problem. You don't have to rotate the answer once you have replaced all question marks by the digits. Think of the output like the usual string for which each two consecutive digits must be different but having additional condition that the first and the last digits must be also different (of course if N > 1). Next, you don't have to use all colors. The only important condition is that this string should be lexicographically smaller than all other strings that can be obtained from the input string by replacement of question marks by digits and of course it must satisfy conditions on adjacent digits.\u000aOne more thing, K here is not the length of the string but the number of allowed colors. Also we emphasize that the given string can have arbitrary number of question marks. So it can have zero number of question marks as well as completely consists of question marks but of course in general situation it can have both digits and question marks.\u000aOK. Let's try to formalize things in order to make all even more clear. You will be given an integer K and a string S=S[1]S[2]...S[N] where each S[i] is either the decimal digit less than K or the question mark. We are serious. In all tests string S can have only digits less than K. Don't ask about what to do if we have digit \u2265 K. There are no such tests at all! We guarantee this! OK, let's continue. Your task is to replace each question mark by some digit strictly less than K. If there were no question marks in the string skip this step. Now if N=1 then your string is already valid. For N > 1 it must satisfy the following N conditions S[1] \u2260 S[2], S[2] \u2260 S[3], ..., S[N-1] \u2260 S[N], S[N] \u2260 S[1]. Among all such valid strings that can be obtained by replacement of question marks you should choose lexicographically smallest one. I hope now the problem is really clear. Next, you don't have to use all colors. The only important condition is that this string should be lexicographically smaller than all other strings that can be obtained from the input string by replacement of question marks by digits and of course it must satisfy conditions on adjacent digits. One more thing, K here is not the length of the string but the number of allowed colors. Also we emphasize that the given string can have arbitrary number of question marks. So it can have zero number of question marks as well as completely consists of question marks but of course in general situation it can have both digits and question marks. OK. Let's try to formalize things in order to make all even more clear. You will be given an integer K and a string S=S[1]S[2]...S[N] where each S[i] is either the decimal digit less than K or the question mark. We are serious. In all tests string S can have only digits less than K. Don't ask about what to do if we have digit \u2265 K. There are no such tests at all! We guarantee this! OK, let's continue. Your task is to replace each question mark by some digit strictly less than K. If there were no question marks in the string skip this step. Now if N=1 then your string is already valid. For N > 1 it must satisfy the following N conditions S[1] \u2260 S[2], S[2] \u2260 S[3], ..., S[N-1] \u2260 S[N], S[N] \u2260 S[1]. Among all such valid strings that can be obtained by replacement of question marks you should choose lexicographically smallest one. I hope now the problem is really clear. Input  The first line of the input file contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly two lines. The first line contains an integer K, the number of available colors for cherries. The second line contains a string S that represents the current arrangement of the cherries in the cake. T T K S Constraints 1 \u2264 T \u2264 1000 1 T 1000 1 \u2264 K \u2264 10 1 K 10 1 \u2264 |S| \u2264 100, where |S| denotes the length of the string S 1 |S| 100 |S| S Each character in S is either the digit from the set {0, 1, ..., K \u2013 1} or the question mark ? S {0, 1, ..., K \u2013 1} ? Output  For each test case output the lexicographically smallest valid arrangement of the cherries in the cake that can be obtained from the given arrangement by replacement of each question mark by some digit from 0 to K \u2013 1. If it is impossible to place the cherries output NO (output is case sensitive). 0 K \u2013 1 NO Example Input:\u000a7\u000a1\u000a?\u000a2\u000a?0\u000a10\u000a79259?087\u000a2\u000a??\u000a3\u000a0?1\u000a4\u000a?????\u000a3\u000a012\u000a\u000aOutput:\u000a0\u000a10\u000aNO\u000a01\u000a021\u000a01012\u000a012 Input: Output: Explanation Case 2. The only possible replacement here is 10. Note that we output 10 since we can not rotate the answer to obtain 01 which is smaller. Case 2. 10 10 can not rotate the answer 01 Case 3. Arrangement is impossible because cherries at the first and the last positions are already of the same color. Note that K = 10 but the string has length 9. It is normal. K and |S| don't have any connection. Case 3. K = 10 9 K |S| Case 4. There are two possible arrangements: 01 and 10. The answer is the first one since it is lexicographically smaller. Case 4. 01 10 Case 5. There are three possible ways to replace question mark by the digit: 001, 011 and 021. But the first and the second strings are not valid arrangements as in both of them there exists an adjacent pair of cherries having the same color. Hence the answer is the third string. Case 5. 001 011 021 Case 6. Note that here we do not use all colors. We just find the lexicographically smallest string that satisfies condition on adjacent digit. Case 6. Case 7. The string is already valid arrangement of digits. Hence we simply print the same string to the output. Case 7.  Author: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/CAKEDOOM\u000aTags: greedy june12 kaushik_iska simple\u000aDate Added: 16-04-2012\u000aTime Limit: 2 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: kaushik_iska\u000aTester: anton_lunyov\u000aEditorial: http://discuss.codechef.com/problems/CAKEDOOM\u000aTags: greedy june12 kaushik_iska simple\u000aDate Added: 16-04-2012\u000aTime Limit: 2 sec\u000aSource Limit: 50000 Bytes\u000aLanguages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Author: kaushik_iska Author: kaushik_iska kaushik_iska Tester: anton_lunyov Tester: anton_lunyov anton_lunyov Editorial: http://discuss.codechef.com/problems/CAKEDOOM Editorial: http://discuss.codechef.com/problems/CAKEDOOM http://discuss.codechef.com/problems/CAKEDOOM Tags: greedy june12 kaushik_iska simple Tags: greedy june12 kaushik_iska simple greedy june12 kaushik_iska simple Date Added: 16-04-2012 Date Added: 16-04-2012 Time Limit: 2 sec Time Limit: 2 sec Source Limit: 50000 Bytes Source Limit: 50000 Bytes Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC Languages: ADA, ASM, BASH, BF, C, C99 strict, CAML, CLOJ, CLPS, CPP 4.3.2, CPP 4.9.2, CPP14, CS2, D, ERL, FORT, FS, GO, HASK, ICK, ICON, JAVA, JS, LISP clisp, LISP sbcl, LUA, NEM, NICE, NODEJS, PAS fpc, PAS gpc, PERL, PERL6, PHP, PIKE, PRLG, PYTH, PYTH 3.4, RUBY, SCALA, SCM guile, SCM qobi, ST, TCL, TEXT, WSPC SUBMIT  SUBMIT SUBMIT SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS SUCCESSFUL SUBMISSIONS  
p9
sS'tags'
p10
V greedy june12 kaushik_iska simple
p11
sS'url'
p12
Vhttps://www.codechef.com/problems/CAKEDOOM
p13
sS'statement'
p14
(lp15
VAll submissions for this problem are available.
p16
aVFrom the FAQ:
p17
aVWhat am I allowed to post as a comment for a problem?
p18
aVDo NOT post code.
p19
aVDo NOT post a comment asking why your solution is wrong.
p20
aVDo NOT post a comment asking if you can be given the test case your program fails on.
p21
aVDo NOT post a comment asking how your solution can be improved.
p22
aVDo NOT post a comment giving any hints or discussing approaches to the problem, or what type or speed of algorithm is required.
p23
aVProblem Statement
p24
aVChef Doom has decided to bake a circular cake. He wants to place N colored cherries around the cake in a circular manner. As all great chefs do, Doom doesn't want any two adjacent cherries to have the same color. Chef has unlimited supply of cherries of K \u2264 10 different colors. Each color is denoted by the digit from the set {0, 1, ..., K \u2013 1}. Different colors are denoted by different digits. Some of the cherries are already placed and the Chef wants you to place cherries in the remaining positions. He understands that there can be many such arrangements, so in the case when the answer is not unique he asks you to find the lexicographically smallest one.
p25
aVWhat does it mean?
p26
aVLet's numerate positions for the cherries by the numbers 1, 2, ..., N starting from one of the positions in a clockwise direction. Then the current (possibly partial) arrangement of the cherries can be represented by a string of N characters. For each position i of the arrangement if the cherry of the color C is placed at this position then the ith character of the string is equal to the digit C. Otherwise, it is equal to the question mark ?. We identify the arrangement with the string that represents it.
p27
aVOne arrangement is called lexicographically smaller than the other arrangement if at the first position where they differ the first one has smaller digit (we compare only complete arrangements so we don't care about relation between digits and the question mark). For example, the arrangement 1230123 is lexicographically smaller than 1231230 since they have first 3 equal characters but the 4th character in the first arrangement is 0 and it is less than 1 which is the 4th character of the second arrangement.
p28
aVNotes
p29
aVThe cherries at the first and the last positions are adjacent to each other (recall that we have a circular cake).
p30
aVIn the case N = 1 any arrangement is valid as long as the color used for the only cherry of this arrangement is less than K.
p31
aVInitial arrangement can be already invalid (see the case 3 in the example).
p32
aVJust to make all things clear. You will be given a usual string of digits and question marks. Don't be confused by circular stuff we have in this problem. You don't have to rotate the answer once you have replaced all question marks by the digits. Think of the output like the usual string for which each two consecutive digits must be different but having additional condition that the first and the last digits must be also different (of course if N > 1).
p33
aVNext, you don't have to use all colors. The only important condition is that this string should be lexicographically smaller than all other strings that can be obtained from the input string by replacement of question marks by digits and of course it must satisfy conditions on adjacent digits.
p34
aVOne more thing, K here is not the length of the string but the number of allowed colors. Also we emphasize that the given string can have arbitrary number of question marks. So it can have zero number of question marks as well as completely consists of question marks but of course in general situation it can have both digits and question marks.
p35
aVOK. Let's try to formalize things in order to make all even more clear. You will be given an integer K and a string S=S[1]S[2]...S[N] where each S[i] is either the decimal digit less than K or the question mark. We are serious. In all tests string S can have only digits less than K. Don't ask about what to do if we have digit \u2265 K. There are no such tests at all! We guarantee this! OK, let's continue. Your task is to replace each question mark by some digit strictly less than K. If there were no question marks in the string skip this step. Now if N=1 then your string is already valid. For N > 1 it must satisfy the following N conditions S[1] \u2260 S[2], S[2] \u2260 S[3], ..., S[N-1] \u2260 S[N], S[N] \u2260 S[1]. Among all such valid strings that can be obtained by replacement of question marks you should choose lexicographically smallest one. I hope now the problem is really clear.
p36
asS'input'
p37
(lp38
VInput
p39
aVThe first line of the input file contains an integer T, the number of test cases. T test cases follow. Each test case consists of exactly two lines. The first line contains an integer K, the number of available colors for cherries. The second line contains a string S that represents the current arrangement of the cherries in the cake.
p40
asS'constraints'
p41
(lp42
VConstraints
p43
aV1 \u2264 T \u2264 1000
p44
aV1 \u2264 K \u2264 10
p45
aV1 \u2264 |S| \u2264 100, where |S| denotes the length of the string S
p46
aVEach character in S is either the digit from the set {0, 1, ..., K \u2013 1} or the question mark ?
p47
aVOutput
p48
aVFor each test case output the lexicographically smallest valid arrangement of the cherries in the cake that can be obtained from the given arrangement by replacement of each question mark by some digit from 0 to K \u2013 1. If it is impossible to place the cherries output NO (output is case sensitive).
p49
asS'id'
p50
c__builtin__
id
p51
sS'name'
p52
VCAKEDOOM
p53
sb.